<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Data-massaging</title>
  </head>
  <body>
    <script>
      "use strict";
      const data = [
        {
          name: "John",
          birthday: "1-1-1995",
          favoriteFoods: {
            meats: ["hamburgers", "sausages"],
            fish: ["salmon", "pike"],
          },
        },
        {
          name: "Mark",
          birthday: "10-5-1980",
          favoriteFoods: {
            meats: ["hamburgers", "steak", "lamb"],
            fish: ["tuna", "salmon", "barracuda"],
          },
        },
        {
          name: "Mary",
          birthday: "1-10-1977",
          favoriteFoods: {
            meats: ["ham", "chicken"],
            fish: ["pike"],
          },
        },
        {
          name: "Thomas",
          birthday: "1-10-1990",
          favoriteFoods: {
            meats: ["bird", "rooster"],
            fish: ["salmon"],
          },
        },
        {
          name: "Mary",
          birthday: "1-10-1977",
          favoriteFoods: {
            meats: ["hamburgers", "lamb"],
            fish: ["anchovies", "tuna"],
          },
        },
      ];

      const allTheNames = function (arr) {
        return arr.map((e, i, arr) => {
          // console.log(e);
          return e.name;
        });
      };
      console.log(allTheNames(data));

      const objBefore1990 = function (arr) {
        return arr.filter((e, i, arr) => {
          // console.log(e.birthday);
          if (Date.parse(e.birthday) < Date.parse("1-1-1990")) {
            return true;
          }
        });
      };

      console.log(objBefore1990(data));

      const allFoods = function (arr) {
        let food = {};
        arr.map((e, i, arr) => {
          e.favoriteFoods.meats.map((e, i, arr) => {
            food[e] = food[e] + 1 || 1;
            // console.log(e);
          });
        });
        arr.map((e, i, arr) => {
          e.favoriteFoods.fish.map((e, i, arr) => {
            food[e] = food[e] + 1 || 1;
            // console.log(e);
          });
        });

        return food;
      };

      console.log(allFoods(data));
    </script>
  </body>
</html>
