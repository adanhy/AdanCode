<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ex6.2 - Counting Duplicates</title>
  </head>
  <body>
    <script>
      function isNumeric(str) {
        if (typeof str != "string") return false;
        return !isNaN(str);
      }

      function isNumeric(str) {
        if (typeof str != "string") return false;
        return !isNaN(str);
      }

      function countDuplicates(str) {
        let arr = str.split("");
        let counter = {};
        let cap = {};
        // console.log(arr);
        arr.forEach((element) => {
          if (element == element.toLowerCase() || isNumeric(element)) {
            counter[element.toLowerCase()] = counter[element] + 1 || 1;
          }
        });
        // console.log(counter);
        // console.log(cap);
        let filtered = Object.keys(counter)
          .filter((key) => counter[key] >= 2)
          .reduce((acc, val) => {
            acc[val] = counter[val];
            return acc;
          }, {});
        // console.log(filtered);
        let message = "";
        if (!Object.keys(filtered)) {
          message = `0 # no characters repeats more than once`;
        } else {
          message += `${Object.keys(filtered).length} #\n`;
          for (const [key, value] of Object.entries(filtered)) {
            message += `${key} occurs ${value} times \n`;
          }
        }
        return message;
      }
      console.log(countDuplicates("abcD1aad23"));
    </script>
  </body>
</html>
